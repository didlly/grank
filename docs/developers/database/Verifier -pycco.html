<!DOCTYPE html>
<html>
 <head>
  <meta content="text/html;charset=utf-8" http-equiv="content-type"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Verifier.py
  </title>
  <link href="/grank/docs/assets/img/favicon.png" rel="shortcut icon"/>
  <link href="/grank/docs/assets/css/pycco.css" rel="stylesheet"/>
 </head>
 <body>
  <div id="container">
   <div id="background">
   </div>
   <div class="section">
    <div class="docs">
     <h1>
      Verifier.py
     </h1>
    </div>
   </div>
   <div class="clearall">
    <div class="section" id="section-0">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-0">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span></span><span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">loads</span>
<span class="kn">from</span> <span class="nn">json.decoder</span> <span class="kn">import</span> <span class="n">JSONDecodeError</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">isdir</span><span class="p">,</span> <span class="n">isfile</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span> <span class="nn">utils.Yaml</span>
<span class="kn">from</span> <span class="nn">database.Handler</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">rebuild_config</span><span class="p">,</span>
    <span class="n">rebuild_controllers</span><span class="p">,</span>
    <span class="n">rebuild_database</span><span class="p">,</span>
    <span class="n">rebuild_info</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">instance.Client</span> <span class="kn">import</span> <span class="n">Instance</span>
<span class="kn">from</span> <span class="nn">utils.Converter</span> <span class="kn">import</span> <span class="n">DictToClass</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-1">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-1">
        #
       </a>
      </div>
      <p>
       The verify function checks if the database is corrupted. If it is, it will rebuild the database.
      </p>
      <p>
       Args:
cwd (str): The current working directory of the program
Client (Instance): The account's class for interacting with Discord.
account (DictToClass): The account's data class
      </p>
      <p>
       Returns:
None
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span class="k">def</span> <span class="nf">verify</span><span class="p">(</span><span class="n">cwd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">Client</span><span class="p">:</span> <span class="n">Instance</span><span class="p">,</span> <span class="n">account</span><span class="p">:</span> <span class="n">DictToClass</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-2">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-2">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-3">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-3">
        #
       </a>
      </div>
      <p>
       If the account does not have a database yet...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">isdir</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">"</span><span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-4">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-4">
        #
       </a>
      </div>
      <p>
       Return None
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">return</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-5">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-5">
        #
       </a>
      </div>
      <p>
       Initilaize statuses to an empty list
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="n">statuses</span> <span class="o">=</span> <span class="p">[]</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-6">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-6">
        #
       </a>
      </div>
      <p>
       If the account does not have a config file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">isfile</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/config.yml"</span><span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-7">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-7">
        #
       </a>
      </div>
      <p>
       ...append False to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-8">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-8">
        #
       </a>
      </div>
      <p>
       Else...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">else</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-9">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-9">
        #
       </a>
      </div>
      <p>
       ...apend the output of verify_config to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_config</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">))</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-10">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-10">
        #
       </a>
      </div>
      <p>
       If the account does not have a database file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">isfile</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/database.json"</span><span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-11">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-11">
        #
       </a>
      </div>
      <p>
       ...append False to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-12">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-12">
        #
       </a>
      </div>
      <p>
       Else...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">else</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-13">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-13">
        #
       </a>
      </div>
      <p>
       ...apend the output of verify_database to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_database</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">))</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-14">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-14">
        #
       </a>
      </div>
      <p>
       If the account does not have a controllers file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">isfile</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/controllers.json"</span><span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-15">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-15">
        #
       </a>
      </div>
      <p>
       ...append False to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-16">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-16">
        #
       </a>
      </div>
      <p>
       Else...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">else</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-17">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-17">
        #
       </a>
      </div>
      <p>
       ...apend the output of verify_controllers to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_controllers</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">))</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-18">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-18">
        #
       </a>
      </div>
      <p>
       If the account does not have a info file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="ow">not</span> <span class="n">isfile</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/info.json"</span><span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-19">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-19">
        #
       </a>
      </div>
      <p>
       ...append False to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-20">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-20">
        #
       </a>
      </div>
      <p>
       Else...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">else</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-21">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-21">
        #
       </a>
      </div>
      <p>
       ...apend the output of verify_info to statuses
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">statuses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_info</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">))</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-22">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-22">
        #
       </a>
      </div>
      <p>
       If not all the statuses are True...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="n">statuses</span> <span class="o">!=</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">statuses</span><span class="p">):</span>
        <span class="n">Client</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"WARNING"</span><span class="p">,</span> <span class="s2">"Database is corrupted. Rebuilding now."</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-23">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-23">
        #
       </a>
      </div>
      <p>
       ...and if the config status is not True...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">if</span> <span class="n">statuses</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-24">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-24">
        #
       </a>
      </div>
      <p>
       ...rebuild the config file
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">Client</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"DEBUG"</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"Rebuilding `/database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/config.yml"</span><span class="p">)</span>
            <span class="n">rebuild_config</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-25">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-25">
        #
       </a>
      </div>
      <p>
       If the database status is not True...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">if</span> <span class="n">statuses</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-26">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-26">
        #
       </a>
      </div>
      <p>
       ...rebuild the database file
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">Client</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"DEBUG"</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"Rebuilding `/database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/database.json"</span><span class="p">)</span>
            <span class="n">rebuild_database</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-27">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-27">
        #
       </a>
      </div>
      <p>
       If the controllers status is not True...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">if</span> <span class="n">statuses</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-28">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-28">
        #
       </a>
      </div>
      <p>
       ...rebuild the controllers file
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">Client</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"DEBUG"</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"Rebuilding `/database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/controllers.json"</span><span class="p">)</span>
            <span class="n">rebuild_controllers</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-29">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-29">
        #
       </a>
      </div>
      <p>
       If the info status is not True...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">if</span> <span class="n">statuses</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">True</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-30">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-30">
        #
       </a>
      </div>
      <p>
       ...rebuild the info file
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">Client</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s2">"DEBUG"</span><span class="p">,</span> <span class="sa">f</span><span class="s2">"Rebuilding `/database/</span><span class="si">{</span><span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">/info.json"</span><span class="p">)</span>
            <span class="n">rebuild_info</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">Client</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">account</span><span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-31">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-31">
        #
       </a>
      </div>
      <p>
       The verify_config function checks to see if the config.yml file is valid.
It does this by checking for all of the required options and making sure that they are present.
      </p>
      <p>
       Args:
cwd (str): The current working directory
folder (str): The account's folder to check
      </p>
      <p>
       Returns:
True if the config file is valid, else False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span class="k">def</span> <span class="nf">verify_config</span><span class="p">(</span><span class="n">cwd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-32">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-32">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="n">options</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">"['commands']"</span><span class="p">,</span>
        <span class="s2">"['commands']['adventure']"</span><span class="p">,</span>
        <span class="s2">"['commands']['crime']"</span><span class="p">,</span>
        <span class="s2">"['commands']['daily']"</span><span class="p">,</span>
        <span class="s2">"['commands']['beg']"</span><span class="p">,</span>
        <span class="s2">"['commands']['fish']"</span><span class="p">,</span>
        <span class="s2">"['commands']['guess']"</span><span class="p">,</span>
        <span class="s2">"['commands']['hunt']"</span><span class="p">,</span>
        <span class="s2">"['commands']['dig']"</span><span class="p">,</span>
        <span class="s2">"['commands']['search']"</span><span class="p">,</span>
        <span class="s2">"['commands']['highlow']"</span><span class="p">,</span>
        <span class="s2">"['commands']['postmeme']"</span><span class="p">,</span>
        <span class="s2">"['commands']['trivia']"</span><span class="p">,</span>
        <span class="s2">"['commands']['vote']"</span><span class="p">,</span>
        <span class="s2">"['commands']['work']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['adventure']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['beg']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['beg']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['beg']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['blackjack']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['blackjack']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['blackjack']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['crime']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['crime']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['crime']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['daily']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['dig']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['dig']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['dig']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['fish']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['fish']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['fish']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['guess']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['highlow']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['highlow']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['highlow']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['hunt']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['hunt']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['hunt']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['postmeme']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['postmeme']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['postmeme']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['search']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['search']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['search']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['snakeeyes']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['snakeeyes']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['snakeeyes']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['stream']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['trivia']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['trivia']['default']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['trivia']['patron']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['vote']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['work']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['commands']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['commands']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['cooldowns']['commands']['value']"</span><span class="p">,</span>
        <span class="s2">"['lottery']"</span><span class="p">,</span>
        <span class="s2">"['lottery']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['lottery']['cooldown']"</span><span class="p">,</span>
        <span class="s2">"['stream']"</span><span class="p">,</span>
        <span class="s2">"['stream']['ads']"</span><span class="p">,</span>
        <span class="s2">"['stream']['chat']"</span><span class="p">,</span>
        <span class="s2">"['stream']['donations']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']['random']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']['amount']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']['minimum']"</span><span class="p">,</span>
        <span class="s2">"['blackjack']['maximum']"</span><span class="p">,</span>
        <span class="s2">"['custom commands']"</span><span class="p">,</span>
        <span class="s2">"['custom commands']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['shifts']"</span><span class="p">,</span>
        <span class="s2">"['shifts']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['shovel']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['fishing pole']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['hunting rifle']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['keyboard']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['mouse']"</span><span class="p">,</span>
        <span class="s2">"['auto buy']['adventure ticket']"</span><span class="p">,</span>
        <span class="s2">"['auto trade']"</span><span class="p">,</span>
        <span class="s2">"['auto trade']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto trade']['trader token']"</span><span class="p">,</span>
        <span class="s2">"['auto sell']"</span><span class="p">,</span>
        <span class="s2">"['auto sell']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['typing indicator']"</span><span class="p">,</span>
        <span class="s2">"['typing indicator']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['typing indicator']['minimum']"</span><span class="p">,</span>
        <span class="s2">"['typing indicator']['maximum']"</span><span class="p">,</span>
        <span class="s2">"['message delay']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['message delay']['minimum']"</span><span class="p">,</span>
        <span class="s2">"['message delay']['maximum']"</span><span class="p">,</span>
        <span class="s2">"['button delay']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['button delay']['minimum']"</span><span class="p">,</span>
        <span class="s2">"['button delay']['maximum']"</span><span class="p">,</span>
        <span class="s2">"['dropdown delay']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['dropdown delay']['minimum']"</span><span class="p">,</span>
        <span class="s2">"['dropdown delay']['maximum']"</span><span class="p">,</span>
        <span class="s2">"['logging']['debug']"</span><span class="p">,</span>
        <span class="s2">"['logging']['warning']"</span><span class="p">,</span>
        <span class="s2">"['blacklisted servers']"</span><span class="p">,</span>
        <span class="s2">"['blacklisted servers']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['blacklisted servers']['servers']"</span><span class="p">,</span>
        <span class="s2">"['auto start']"</span><span class="p">,</span>
        <span class="s2">"['auto start']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto start']['channel']"</span><span class="p">,</span>
        <span class="s2">"['anti heist']"</span><span class="p">,</span>
        <span class="s2">"['anti heist']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto join heist']"</span><span class="p">,</span>
        <span class="s2">"['auto join heist']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto accept trade']"</span><span class="p">,</span>
        <span class="s2">"['auto accept trade']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['auto accept trade']['traders']"</span><span class="p">,</span>
        <span class="s2">"['settings']"</span><span class="p">,</span>
        <span class="s2">"['settings']['prefix']"</span><span class="p">,</span>
        <span class="s2">"['settings']['patron']"</span><span class="p">,</span>
        <span class="s2">"['settings']['timeout']"</span><span class="p">,</span>
        <span class="s2">"['logging']['webhook logging']"</span><span class="p">,</span>
        <span class="s2">"['logging']['webhook logging']['enabled']"</span><span class="p">,</span>
        <span class="s2">"['logging']['webhook logging']['url']"</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-33">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-33">
        #
       </a>
      </div>
      <p>
       Try to parse the config file
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="n">config</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">Yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/config.yml"</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-34">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-34">
        #
       </a>
      </div>
      <p>
       If there is an error while parsing, an Exception would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-35">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-35">
        #
       </a>
      </div>
      <p>
       Set a throwaway variable to the value in the config
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">exec</span><span class="p">(</span><span class="sa">f</span><span class="s2">"_ = config</span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-36">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-36">
        #
       </a>
      </div>
      <p>
       If the value is not in the config, a KeyError would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-37">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-37">
        #
       </a>
      </div>
      <p>
       No error were raised, so return True
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">return</span> <span class="kc">True</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-38">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-38">
        #
       </a>
      </div>
      <p>
       The verify_database function verifies that the database.json file is valid.
      </p>
      <p>
       Args:
cwd (str): The current working directory
folder (Optional[str]): The account's folder to check (or None if the files are specified)
database_template (Optional[dict]) = None: The database template (or None if the program should read it from the account's folder)
database (Optional[dict]) = None: The database to check (or None if the prgraom should read it from the account's folder)
      </p>
      <p>
       Returns:
True if the database file is valid, else False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span class="k">def</span> <span class="nf">verify_database</span><span class="p">(</span>
    <span class="n">cwd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">folder</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">database_template</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">database</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-39">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-39">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-40">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-40">
        #
       </a>
      </div>
      <p>
       If the folder is not None, (i.e, this is not a recursive call of the function and it should read the files)...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="n">folder</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-41">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-41">
        #
       </a>
      </div>
      <p>
       Open the database template file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/templates/database.json"</span><span class="p">,</span> <span class="s2">"r"</span>
        <span class="p">)</span> <span class="k">as</span> <span class="n">database_template_file</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-42">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-42">
        #
       </a>
      </div>
      <p>
       ...and read the database template from it
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">database_template</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">database_template_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-43">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-43">
        #
       </a>
      </div>
      <p>
       Open the database file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/database.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">database_file</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-44">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-44">
        #
       </a>
      </div>
      <p>
       ...and try to parse the database from it
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>                <span class="n">database</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">database_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
            <span class="k">except</span> <span class="n">JSONDecodeError</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-45">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-45">
        #
       </a>
      </div>
      <p>
       If there is an error while parsing, a JSONDecodeError would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>                <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-46">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-46">
        #
       </a>
      </div>
      <p>
       For each key in the database...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">database_template</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-47">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-47">
        #
       </a>
      </div>
      <p>
       ...if the value of the key is a dictionary...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">database_template</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">==</span> <span class="nb">dict</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-48">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-48">
        #
       </a>
      </div>
      <p>
       ...if the recursive call of this function on that key value returned False...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>                <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_database</span><span class="p">(</span>
                    <span class="n">cwd</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">database_template</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">database</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
                <span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-49">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-49">
        #
       </a>
      </div>
      <p>
       ...return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>                    <span class="k">return</span> <span class="kc">False</span>
        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-50">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-50">
        #
       </a>
      </div>
      <p>
       If the value is not in the database, a KeyError would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">database</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-51">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-51">
        #
       </a>
      </div>
      <p>
       No errors were raised, so return True
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">return</span> <span class="kc">True</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-52">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-52">
        #
       </a>
      </div>
      <p>
       The verify_controllers function checks to see if the controllers.json file exists in the database folder and then checks to see if it contains a ...controllers'key and a ...controllers_info'key. If either of these keys are missing, then this function returns False.
      </p>
      <p>
       Args:
cwd (str): The current working directory
folder (str): The account's folder to check
      </p>
      <p>
       Returns:
True if the controllers file is valid, else False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span class="k">def</span> <span class="nf">verify_controllers</span><span class="p">(</span>
    <span class="n">cwd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-53">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-53">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-54">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-54">
        #
       </a>
      </div>
      <p>
       Open the controllers file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/controllers.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">controllers_file</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-55">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-55">
        #
       </a>
      </div>
      <p>
       ...and try to parse the controllers from it
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">controllers</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">controllers_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">except</span> <span class="n">JSONDecodeError</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-56">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-56">
        #
       </a>
      </div>
      <p>
       If there is an error while parsing, a JSONDecodeError would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-57">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-57">
        #
       </a>
      </div>
      <p>
       If the keys
       <code>
        controllers
       </code>
       and
       <code>
        controllers_info
       </code>
       are present, return True, else return Fa;se
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">return</span> <span class="p">(</span>
        <span class="kc">True</span>
        <span class="k">if</span> <span class="s2">"controllers"</span> <span class="ow">in</span> <span class="n">controllers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="ow">and</span> <span class="s2">"controllers_info"</span> <span class="ow">in</span> <span class="n">controllers</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">else</span> <span class="kc">False</span>
    <span class="p">)</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-58">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-58">
        #
       </a>
      </div>
      <p>
       The verify_info function checks if the info.json file is formatted correctly.
      </p>
      <p>
       Args:
cwd (str): The current working directory
folder (str): The account's folder to check
      </p>
      <p>
       Returns:
True if the info file is valid, else False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre><span class="k">def</span> <span class="nf">verify_info</span><span class="p">(</span>
    <span class="n">cwd</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">folder</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-59">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-59">
        #
       </a>
      </div>
     </div>
     <div class="code">
      <div class="highlight">
       <pre></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-60">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-60">
        #
       </a>
      </div>
      <p>
       Open the info file...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s2">database/</span><span class="si">{</span><span class="n">folder</span><span class="si">}</span><span class="s2">/info.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">info_file</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-61">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-61">
        #
       </a>
      </div>
      <p>
       ...and try and parse the info from it
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="n">info</span> <span class="o">=</span> <span class="n">loads</span><span class="p">(</span><span class="n">info_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
        <span class="k">except</span> <span class="n">JSONDecodeError</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-62">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-62">
        #
       </a>
      </div>
      <p>
       If there is an error while parsing, a JSONDecodeError would be raised, which is caught here, and the program will return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-63">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-63">
        #
       </a>
      </div>
      <p>
       If the
       <code>
        stats
       </code>
       key is found...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">if</span> <span class="s2">"stats"</span> <span class="ow">in</span> <span class="n">info</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-64">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-64">
        #
       </a>
      </div>
      <p>
       If the
       <code>
        commands_ran
       </code>
       or
       <code>
        buttons_clicked
       </code>
       or
       <code>
        dropdowns_selected
       </code>
       or
       <code>
        coins_gained
       </code>
       or
       <code>
        items_gained
       </code>
       key is not found in the subdict
       <code>
        stats
       </code>
       ...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">if</span> <span class="p">(</span>
            <span class="s2">"commands_ran"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">"stats"</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">or</span> <span class="s2">"buttons_clicked"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">"stats"</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">or</span> <span class="s2">"dropdowns_selected"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">"stats"</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">or</span> <span class="s2">"coins_gained"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">"stats"</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="ow">or</span> <span class="s2">"items_gained"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info</span><span class="p">[</span><span class="s2">"stats"</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="p">):</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-65">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-65">
        #
       </a>
      </div>
      <p>
       ...return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>            <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-66">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-66">
        #
       </a>
      </div>
      <p>
       Else...
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">else</span><span class="p">:</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-67">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-67">
        #
       </a>
      </div>
      <p>
       ...return False
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>        <span class="k">return</span> <span class="kc">False</span></pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
    <div class="section" id="section-68">
     <div class="docs">
      <div class="octowrap">
       <a class="octothorpe" href="#section-68">
        #
       </a>
      </div>
      <p>
       No errors were raised, so return True
      </p>
     </div>
     <div class="code">
      <div class="highlight">
       <pre>    <span class="k">return</span> <span class="kc">True</span>

</pre>
      </div>
     </div>
    </div>
    <div class="clearall">
    </div>
   </div>
  </div>
 </body>
</html>